<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Awk on 寻道之旅博客</title>
        <link>https://hublog.netlify.app/tags/awk/</link>
        <description>Recent content in Awk on 寻道之旅博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>寻道之旅博客</copyright>
        <lastBuildDate>Sat, 01 Mar 2025 18:29:05 +0800</lastBuildDate><atom:link href="https://hublog.netlify.app/tags/awk/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Shell三剑客awk，sed，grep使用教程</title>
        <link>https://hublog.netlify.app/p/250301182905/</link>
        <pubDate>Sat, 01 Mar 2025 18:29:05 +0800</pubDate>
        
        <guid>https://hublog.netlify.app/p/250301182905/</guid>
        <description>&lt;h2 id=&#34;简介&#34;&gt;简介
&lt;/h2&gt;&lt;p&gt;Linux 上有三个命令行工具用来处理数据，分别是&lt;code&gt;grep&lt;/code&gt;、&lt;code&gt;sed&lt;/code&gt; 和  &lt;code&gt;awk&lt;/code&gt;，通常它们被称为 Shell 三剑客（或文本处理三剑客）。 它们是 Unix/Linux 系统中非常强大且常用的文本处理工具，各自擅长不同的任务：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;grep&lt;/code&gt;&lt;/strong&gt;: 主要用于&lt;strong&gt;查找&lt;/strong&gt;文本，根据模式（pattern）匹配行，并输出匹配的行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;sed&lt;/code&gt;&lt;/strong&gt;: 主要用于&lt;strong&gt;编辑&lt;/strong&gt;文本，可以进行替换、删除、插入、追加等操作。它是一个流编辑器，逐行处理文本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;awk&lt;/code&gt;&lt;/strong&gt;: 主要用于&lt;strong&gt;分析和处理&lt;/strong&gt;文本，可以将文本分割成字段，并对字段进行各种操作，例如计算、格式化输出等。它是一种编程语言，可以编写复杂的脚本。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这三个工具经常一起使用，构成强大的文本处理流水线。 例如，可以使用 &lt;code&gt;grep&lt;/code&gt; 查找包含特定模式的行，然后使用 &lt;code&gt;sed&lt;/code&gt; 对这些行进行编辑，最后使用 &lt;code&gt;awk&lt;/code&gt; 对编辑后的结果进行分析和格式化输出。&lt;/p&gt;
&lt;h2 id=&#34;grep&#34;&gt;grep
&lt;/h2&gt;&lt;p&gt;这是一个命令行搜索工具，可以在文件或输入流中搜索特定模式的行&lt;/p&gt;
&lt;p&gt;结合管道命令将执行的结果传递给后面，对于完成一些复杂的操作很友好
好的，以下是 &lt;code&gt;grep&lt;/code&gt; 的基本语法和常用选项：&lt;/p&gt;
&lt;h3 id=&#34;基本结构&#34;&gt;基本结构
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;OPTIONS&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; PATTERN &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;FILE...&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;grep&lt;/code&gt;&lt;/strong&gt;: 调用 grep 命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;[OPTIONS]&lt;/code&gt;&lt;/strong&gt;: 可选的选项，用于修改 grep 的行为。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;PATTERN&lt;/code&gt;&lt;/strong&gt;: 要搜索的模式，通常是一个字符串或正则表达式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;[FILE...]&lt;/code&gt;&lt;/strong&gt;: 要搜索的文件名。可以指定多个文件，如果省略，则 grep 从标准输入读取数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;常用选项&#34;&gt;常用选项
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-i&lt;/code&gt; (或 &lt;code&gt;--ignore-case&lt;/code&gt;)&lt;/strong&gt;: 忽略大小写。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-v&lt;/code&gt; (或 &lt;code&gt;--invert-match&lt;/code&gt;)&lt;/strong&gt;: 反向匹配，只显示不匹配 &lt;code&gt;PATTERN&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-n&lt;/code&gt; (或 &lt;code&gt;--line-number&lt;/code&gt;)&lt;/strong&gt;: 显示匹配行的行号。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-c&lt;/code&gt; (或 &lt;code&gt;--count&lt;/code&gt;)&lt;/strong&gt;: 只显示匹配行的数量，而不是匹配的行本身。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-l&lt;/code&gt; (或 &lt;code&gt;--files-with-matches&lt;/code&gt;)&lt;/strong&gt;: 只显示包含匹配行的文件名，而不显示匹配的行本身。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-L&lt;/code&gt; (或 &lt;code&gt;--files-without-match&lt;/code&gt;)&lt;/strong&gt;: 只显示不包含匹配行的文件名。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-r&lt;/code&gt; (或 &lt;code&gt;-R&lt;/code&gt; 或 &lt;code&gt;--recursive&lt;/code&gt;)&lt;/strong&gt;: 递归搜索目录下的所有文件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-h&lt;/code&gt; (或 &lt;code&gt;--no-filename&lt;/code&gt;)&lt;/strong&gt;: 在输出中不显示文件名。 当搜索多个文件时，默认会显示文件名。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-H&lt;/code&gt; (或 &lt;code&gt;--with-filename&lt;/code&gt;)&lt;/strong&gt;: 在输出中显示文件名。 这是默认行为，但可以用来覆盖 &lt;code&gt;-h&lt;/code&gt; 选项。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-w&lt;/code&gt; (或 &lt;code&gt;--word-regexp&lt;/code&gt;)&lt;/strong&gt;: 只匹配完整的单词。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-x&lt;/code&gt; (或 &lt;code&gt;--line-regexp&lt;/code&gt;)&lt;/strong&gt;: 只匹配整行都匹配的情况。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-o&lt;/code&gt; (或 &lt;code&gt;--only-matching&lt;/code&gt;)&lt;/strong&gt;: 只显示匹配的部分，而不是整行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-q&lt;/code&gt; (或 &lt;code&gt;--quiet&lt;/code&gt; 或 &lt;code&gt;--silent&lt;/code&gt;)&lt;/strong&gt;: 静默模式，不输出任何信息，只返回退出状态码（0 表示找到匹配，1 表示没有找到匹配）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-s&lt;/code&gt; (或 &lt;code&gt;--no-messages&lt;/code&gt;)&lt;/strong&gt;: 禁止显示错误消息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-b&lt;/code&gt; (或 &lt;code&gt;--byte-offset&lt;/code&gt;)&lt;/strong&gt;: 显示匹配行的字节偏移量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-m NUM&lt;/code&gt; (或 &lt;code&gt;--max-count=NUM&lt;/code&gt;)&lt;/strong&gt;: 在找到 NUM 个匹配行后停止搜索。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-A NUM&lt;/code&gt; (或 &lt;code&gt;--after-context=NUM&lt;/code&gt;)&lt;/strong&gt;: 显示匹配行之后 NUM 行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-B NUM&lt;/code&gt; (或 &lt;code&gt;--before-context=NUM&lt;/code&gt;)&lt;/strong&gt;: 显示匹配行之前 NUM 行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-C NUM&lt;/code&gt; (或 &lt;code&gt;--context=NUM&lt;/code&gt;)&lt;/strong&gt;: 显示匹配行之前和之后 NUM 行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-e PATTERN&lt;/code&gt;&lt;/strong&gt;: 指定多个搜索模式。例如，&lt;code&gt;grep -e &amp;quot;pattern1&amp;quot; -e &amp;quot;pattern2&amp;quot; file.txt&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-f FILE&lt;/code&gt; (或 &lt;code&gt;--file=FILE&lt;/code&gt;)&lt;/strong&gt;: 从文件中读取搜索模式，每行一个模式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--color[=WHEN]&lt;/code&gt;&lt;/strong&gt;: 高亮显示匹配的部分。&lt;code&gt;WHEN&lt;/code&gt; 可以是 &lt;code&gt;always&lt;/code&gt;、&lt;code&gt;auto&lt;/code&gt; 或 &lt;code&gt;never&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-E&lt;/code&gt; (或 &lt;code&gt;--extended-regexp&lt;/code&gt;)&lt;/strong&gt;: 使用扩展正则表达式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-F&lt;/code&gt; (或 &lt;code&gt;--fixed-strings&lt;/code&gt;)&lt;/strong&gt;: 将 &lt;code&gt;PATTERN&lt;/code&gt; 解释为固定字符串，而不是正则表达式。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-P&lt;/code&gt; (或 &lt;code&gt;--perl-regexp&lt;/code&gt;)&lt;/strong&gt;: 使用 Perl 兼容的正则表达式（PCRE）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-d ACTION&lt;/code&gt; (或 &lt;code&gt;--directories=ACTION&lt;/code&gt;)&lt;/strong&gt;: 指定如何处理目录。&lt;code&gt;ACTION&lt;/code&gt; 可以是 &lt;code&gt;read&lt;/code&gt; (默认)、&lt;code&gt;skip&lt;/code&gt; 或 &lt;code&gt;recurse&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-exclude=GLOB&lt;/code&gt;&lt;/strong&gt;: 跳过文件名匹配 GLOB 模式的文件或目录。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-exclude-dir=DIR&lt;/code&gt;&lt;/strong&gt;: 在递归搜索中，排除 DIR 目录。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;模式-pattern&#34;&gt;模式 (PATTERN)
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;普通字符串&lt;/strong&gt;: 例如，&lt;code&gt;grep &amp;quot;hello&amp;quot; file.txt&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;正则表达式&lt;/strong&gt;: 例如，&lt;code&gt;grep &amp;quot;^[0-9]&amp;quot; file.txt&lt;/code&gt; 匹配以数字开头的行。 &lt;code&gt;grep -E &amp;quot;pattern1|pattern2&amp;quot; file.txt&lt;/code&gt; 匹配包含 &amp;ldquo;pattern1&amp;rdquo; 或 &amp;ldquo;pattern2&amp;rdquo; 的行（使用扩展正则表达式）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;正则表达式中的特殊字符&#34;&gt;正则表达式中的特殊字符
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; (点)：匹配任意单个字符（除了换行符）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; (星号)：匹配前一个字符零次或多次。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; (加号)：匹配前一个字符一次或多次（需要 &lt;code&gt;-E&lt;/code&gt; 选项）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; (问号)：匹配前一个字符零次或一次（需要 &lt;code&gt;-E&lt;/code&gt; 选项）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[]&lt;/code&gt; (字符类)：匹配方括号中的任意一个字符。 例如，&lt;code&gt;[abc]&lt;/code&gt; 匹配 &amp;ldquo;a&amp;rdquo;、&amp;ldquo;b&amp;rdquo; 或 &amp;ldquo;c&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[^]&lt;/code&gt; (否定字符类)：匹配不在方括号中的任意一个字符。 例如，&lt;code&gt;[^abc]&lt;/code&gt; 匹配除了 &amp;ldquo;a&amp;rdquo;、&amp;ldquo;b&amp;rdquo; 和 &amp;ldquo;c&amp;rdquo; 之外的任意字符。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; (脱字符)：匹配行首。 在字符类中表示否定。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt; (美元符号)：匹配行尾。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&lt;/code&gt; (反斜杠)：转义特殊字符，使其失去特殊含义。 例如，&lt;code&gt;\.&lt;/code&gt; 匹配字面上的点字符。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\|&lt;/code&gt; (管道符)：表示或（需要 &lt;code&gt;-E&lt;/code&gt; 选项）。 例如，&lt;code&gt;foo\|bar&lt;/code&gt; 匹配 &amp;ldquo;foo&amp;rdquo; 或 &amp;ldquo;bar&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;()&lt;/code&gt; (圆括号)：用于分组和捕获匹配的子字符串（需要 &lt;code&gt;-E&lt;/code&gt; 选项）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{}&lt;/code&gt; (花括号)：用于指定匹配次数的范围（需要 &lt;code&gt;-E&lt;/code&gt; 选项）。 例如，&lt;code&gt;a{2,4}&lt;/code&gt; 匹配 &amp;ldquo;a&amp;rdquo; 出现 2 到 4 次。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\b&lt;/code&gt;：匹配单词边界。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\w&lt;/code&gt;：匹配单词字符（字母、数字和下划线）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\s&lt;/code&gt;：匹配空白字符（空格、制表符等）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\d&lt;/code&gt;：匹配数字（某些 &lt;code&gt;grep&lt;/code&gt; 版本支持，或者使用 &lt;code&gt;[0-9]&lt;/code&gt;）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&amp;lt;&lt;/code&gt;：匹配单词的开头（某些 &lt;code&gt;grep&lt;/code&gt; 版本支持）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&amp;gt;&lt;/code&gt;：匹配单词的结尾（某些 &lt;code&gt;grep&lt;/code&gt; 版本支持）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;退出状态码&#34;&gt;退出状态码
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt;: 找到匹配的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1&lt;/code&gt;: 没有找到匹配的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2&lt;/code&gt;: 发生错误。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;示例&#34;&gt;示例
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索包含 &amp;ldquo;hello&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索包含 &amp;ldquo;hello&amp;rdquo; 的行，忽略大小写&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -i &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索不包含 &amp;ldquo;hello&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -v &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索以数字开头的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;^[0-9]&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索以 &amp;ldquo;hello&amp;rdquo; 结尾的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&lt;/span&gt;$&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 中搜索完整的单词 &amp;ldquo;hello&amp;rdquo;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -w &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;递归搜索当前目录下所有文件中包含 &amp;ldquo;hello&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -r &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;只显示包含 &amp;ldquo;hello&amp;rdquo; 的文件名&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -l &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;显示匹配行及其行号&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;显示匹配行之前的 2 行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -B &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;显示匹配行之后的 2 行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -A &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;显示匹配行前后各 2 行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -C &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;统计包含 &amp;ldquo;hello&amp;rdquo; 的行数&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;从文件中读取搜索模式&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -f patterns.txt file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用扩展正则表达式搜索包含 &amp;ldquo;foo&amp;rdquo; 或 &amp;ldquo;bar&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -E &lt;span class=&#34;s2&#34;&gt;&amp;#34;foo|bar&amp;#34;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;管道中使用 grep&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls -l &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;file.txt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;注意事项&#34;&gt;注意事项
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;grep&lt;/code&gt; 默认区分大小写。&lt;/li&gt;
&lt;li&gt;如果 &lt;code&gt;PATTERN&lt;/code&gt; 包含空格或其他特殊字符，最好用引号括起来。&lt;/li&gt;
&lt;li&gt;正则表达式是 &lt;code&gt;grep&lt;/code&gt; 的重要组成部分，需要熟练掌握。&lt;/li&gt;
&lt;li&gt;不同版本的 &lt;code&gt;grep&lt;/code&gt; 在正则表达式的支持上可能有所差异。GNU grep 提供了更强大的正则表达式功能。&lt;/li&gt;
&lt;li&gt;使用 Shell 变量：如果想在&lt;code&gt;grep&lt;/code&gt;命令中使用 Shell 变量，要使用双引号&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;，这样 Shell 变量会被展开。 如果使用单引号，则变量不会被展开，而是会被当做普通字符串。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;grep --help&lt;/code&gt; 可以查看 &lt;code&gt;grep&lt;/code&gt; 的帮助信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;sed&#34;&gt;sed
&lt;/h2&gt;&lt;p&gt;sed 是一个文本处理工具，用于在命令行中对文件中的文本进行修改。它的输入可以是文件，也可以从管道读取数据&lt;/p&gt;
&lt;h3 id=&#34;基本结构-1&#34;&gt;基本结构
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;command&amp;#39;&lt;/span&gt; 文件名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;command1&amp;#39;&lt;/span&gt; -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;command2&amp;#39;&lt;/span&gt; ... 文件名
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -f scriptfile 文件名
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;sed&lt;/code&gt;&lt;/strong&gt;: 调用 sed 命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;&#39;command&#39;&lt;/code&gt;&lt;/strong&gt;: 要执行的 sed 命令。 命令用单引号括起来。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-e &#39;command&#39;&lt;/code&gt;&lt;/strong&gt;: 允许指定多个命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-f scriptfile&lt;/code&gt;&lt;/strong&gt;: 从文件中读取命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;文件名&lt;/code&gt;&lt;/strong&gt;: 要处理的文件名。 如果省略，则 sed 从标准输入读取数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;常用命令&#34;&gt;常用命令
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;s/regexp/replacement/flags&lt;/code&gt; (替换)&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;s&lt;/code&gt;: 表示替换命令。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;regexp&lt;/code&gt;: 正则表达式，匹配要替换的内容。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;replacement&lt;/code&gt;: 替换后的内容。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;flags&lt;/code&gt;: 可选的标志：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;g&lt;/code&gt;: 全局替换，替换所有匹配项，而不是只替换第一个。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;i&lt;/code&gt;: 忽略大小写。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;w 文件名&lt;/code&gt;: 将替换结果写入指定的文件。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1&lt;/code&gt;, &lt;code&gt;2&lt;/code&gt;, &amp;hellip;, &lt;code&gt;9&lt;/code&gt;: 只替换第 N 个匹配项。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;d&lt;/code&gt; (删除)&lt;/strong&gt;：删除行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;a text&lt;/code&gt; (追加)&lt;/strong&gt;：在当前行之后追加文本。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;i text&lt;/code&gt; (插入)&lt;/strong&gt;：在当前行之前插入文本。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;c text&lt;/code&gt; (更改)&lt;/strong&gt;：将当前行替换为文本。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;p&lt;/code&gt; (打印)&lt;/strong&gt;：打印当前行（通常与 &lt;code&gt;-n&lt;/code&gt; 选项一起使用，用于抑制默认输出）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;n&lt;/code&gt; (下一行)&lt;/strong&gt;：读取下一行，然后执行命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;q&lt;/code&gt; (退出)&lt;/strong&gt;：退出 sed。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;r 文件名&lt;/code&gt; (读取)&lt;/strong&gt;：将指定文件的内容追加到当前行之后。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;w 文件名&lt;/code&gt; (写入)&lt;/strong&gt;：将匹配的行写入指定的文件。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;y/source/dest/&lt;/code&gt; (转换)&lt;/strong&gt;：将 &lt;code&gt;source&lt;/code&gt; 中的字符转换为 &lt;code&gt;dest&lt;/code&gt; 中对应的字符（类似于 &lt;code&gt;tr&lt;/code&gt; 命令）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;=&lt;/code&gt; (行号)&lt;/strong&gt;：打印行号。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;!&lt;/code&gt; (非)&lt;/strong&gt;：反转选择的含义。 例如，&lt;code&gt;sed &#39;/pattern/!d&#39; file&lt;/code&gt; 删除所有不匹配 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;{ }&lt;/code&gt; (分组)&lt;/strong&gt;：将多个命令组合在一起。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;地址-addresses&#34;&gt;地址 (Addresses)
&lt;/h3&gt;&lt;p&gt;地址用于指定命令作用的行。 地址可以是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;行号&lt;/strong&gt;: 例如，&lt;code&gt;10&lt;/code&gt; 表示第 10 行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;$&lt;/code&gt;&lt;/strong&gt;: 最后一行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;正则表达式&lt;/strong&gt;: 例如，&lt;code&gt;/pattern/&lt;/code&gt; 表示匹配 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;范围&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;行号1,行号2&lt;/code&gt;: 从行号 1 到行号 2 的范围（包括这两行）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/pattern1/,/pattern2/&lt;/code&gt;: 从匹配 &lt;code&gt;pattern1&lt;/code&gt; 的行到匹配 &lt;code&gt;pattern2&lt;/code&gt; 的行（包括这两行）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;行号,/pattern/&lt;/code&gt;: 从指定行号到匹配 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/pattern/,行号&lt;/code&gt;: 从匹配 &lt;code&gt;pattern&lt;/code&gt; 的行到指定行号。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果省略地址，则命令作用于所有行。&lt;/p&gt;
&lt;h3 id=&#34;常用选项-1&#34;&gt;常用选项
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-n&lt;/code&gt; (安静模式)&lt;/strong&gt;：抑制默认输出（只打印由 &lt;code&gt;p&lt;/code&gt; 命令显式打印的行）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-i[SUFFIX]&lt;/code&gt; (原地编辑)&lt;/strong&gt;：直接修改文件内容。 &lt;code&gt;SUFFIX&lt;/code&gt; 是可选的备份文件名后缀。 例如，&lt;code&gt;sed -i.bak &#39;s/foo/bar/g&#39; file.txt&lt;/code&gt; 会将 &lt;code&gt;file.txt&lt;/code&gt; 中所有的 &amp;ldquo;foo&amp;rdquo; 替换为 &amp;ldquo;bar&amp;rdquo;，并将原始文件备份为 &lt;code&gt;file.txt.bak&lt;/code&gt;。 &lt;strong&gt;重要提示：&lt;/strong&gt; 使用 &lt;code&gt;-i&lt;/code&gt; 选项要小心，因为这会永久更改文件。 不加 SUFFIX 会直接修改，不做备份，更要小心。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-e script&lt;/code&gt; (多命令)&lt;/strong&gt;：允许在命令行中指定多个命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-f scriptfile&lt;/code&gt; (脚本文件)&lt;/strong&gt;：从文件中读取命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-r&lt;/code&gt; (扩展正则表达式)&lt;/strong&gt;：使用扩展正则表达式，例如可以使用 &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;?&lt;/code&gt;, &lt;code&gt;|&lt;/code&gt; 等元字符。 （GNU sed）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-E&lt;/code&gt; (扩展正则表达式)&lt;/strong&gt;： 与 &lt;code&gt;-r&lt;/code&gt; 效果相同，POSIX 标准。（BSD sed, macOS）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;示例-1&#34;&gt;示例
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将文件 &lt;code&gt;file.txt&lt;/code&gt; 中所有的 &amp;ldquo;foo&amp;rdquo; 替换为 &amp;ldquo;bar&amp;rdquo;，并打印到标准输出&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/g&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将文件 &lt;code&gt;file.txt&lt;/code&gt; 中所有的 &amp;ldquo;foo&amp;rdquo; 替换为 &amp;ldquo;bar&amp;rdquo;，并直接修改文件&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/g&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将文件 &lt;code&gt;file.txt&lt;/code&gt; 中所有的 &amp;ldquo;foo&amp;rdquo; 替换为 &amp;ldquo;bar&amp;rdquo;，并备份原始文件为 &lt;code&gt;file.txt.bak&lt;/code&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i.bak &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/g&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;删除文件 &lt;code&gt;file.txt&lt;/code&gt; 中的所有空行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^$/d&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印文件 &lt;code&gt;file.txt&lt;/code&gt; 的第 10 行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;10p&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印文件 &lt;code&gt;file.txt&lt;/code&gt; 中包含 &amp;ldquo;error&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/error/p&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;删除文件 &lt;code&gt;file.txt&lt;/code&gt; 中从包含 &amp;ldquo;start&amp;rdquo; 的行到包含 &amp;ldquo;end&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/start/,/end/d&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在文件 &lt;code&gt;file.txt&lt;/code&gt; 的每一行之后追加 &amp;ldquo;&amp;mdash;&amp;rdquo;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;a ---&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将文件 &lt;code&gt;file.txt&lt;/code&gt; 中的前 10 行写入 &lt;code&gt;output.txt&lt;/code&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;1,10w output.txt&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将文件 &lt;code&gt;file.txt&lt;/code&gt; 中的所有小写字母转换为大写字母&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;删除文件 &lt;code&gt;file.txt&lt;/code&gt; 中的注释行（以 &lt;code&gt;#&lt;/code&gt; 开头的行）&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^#/d&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用多个命令将文件 &lt;code&gt;file.txt&lt;/code&gt; 中的 &amp;ldquo;foo&amp;rdquo; 替换为 &amp;ldquo;bar&amp;rdquo;，并将 &amp;ldquo;hello&amp;rdquo; 替换为 &amp;ldquo;world&amp;rdquo;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/g&amp;#39;&lt;/span&gt; -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/hello/world/g&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;从脚本文件 &lt;code&gt;script.sed&lt;/code&gt; 中读取命令&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -f script.sed file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;仅替换每行中第一次出现的&amp;quot;foo&amp;quot; 为 &amp;ldquo;bar&amp;rdquo;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;替换每行中第三次出现的&amp;quot;foo&amp;quot; 为 &amp;ldquo;bar&amp;rdquo;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/foo/bar/3&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;正则表达式中的特殊字符-1&#34;&gt;正则表达式中的特殊字符
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt; (点)：匹配任意单个字符（除了换行符）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; (星号)：匹配前一个字符零次或多次。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; (加号)：匹配前一个字符一次或多次（扩展正则表达式，需要 &lt;code&gt;-r&lt;/code&gt; 或 &lt;code&gt;-E&lt;/code&gt; 选项）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; (问号)：匹配前一个字符零次或一次（扩展正则表达式，需要 &lt;code&gt;-r&lt;/code&gt; 或 &lt;code&gt;-E&lt;/code&gt; 选项）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[]&lt;/code&gt; (字符类)：匹配方括号中的任意一个字符。 例如，&lt;code&gt;[abc]&lt;/code&gt; 匹配 &amp;ldquo;a&amp;rdquo;、&amp;ldquo;b&amp;rdquo; 或 &amp;ldquo;c&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[^]&lt;/code&gt; (否定字符类)：匹配不在方括号中的任意一个字符。 例如，&lt;code&gt;[^abc]&lt;/code&gt; 匹配除了 &amp;ldquo;a&amp;rdquo;、&amp;ldquo;b&amp;rdquo; 和 &amp;ldquo;c&amp;rdquo; 之外的任意字符。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt; (脱字符)：匹配行首。 在字符类中表示否定。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt; (美元符号)：匹配行尾。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&lt;/code&gt; (反斜杠)：转义特殊字符，使其失去特殊含义。 例如，&lt;code&gt;\.&lt;/code&gt; 匹配字面上的点字符。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\|&lt;/code&gt; (管道符)：表示或（扩展正则表达式，需要 &lt;code&gt;-r&lt;/code&gt; 或 &lt;code&gt;-E&lt;/code&gt; 选项）。 例如，&lt;code&gt;foo\|bar&lt;/code&gt; 匹配 &amp;ldquo;foo&amp;rdquo; 或 &amp;ldquo;bar&amp;rdquo;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;()&lt;/code&gt; (圆括号)：用于分组和捕获匹配的子字符串。 捕获的子字符串可以在 &lt;code&gt;replacement&lt;/code&gt; 中使用 &lt;code&gt;\1&lt;/code&gt;, &lt;code&gt;\2&lt;/code&gt; 等引用。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{}&lt;/code&gt; (花括号)：用于指定匹配次数的范围。 例如，&lt;code&gt;a{2,4}&lt;/code&gt; 匹配 &amp;ldquo;a&amp;rdquo; 出现 2 到 4 次。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\b&lt;/code&gt;：匹配单词边界。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\w&lt;/code&gt;：匹配单词字符（字母、数字和下划线）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\s&lt;/code&gt;：匹配空白字符（空格、制表符等）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\d&lt;/code&gt;：匹配数字。 (某些 &lt;code&gt;sed&lt;/code&gt; 版本支持)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&amp;lt;&lt;/code&gt;：匹配单词的开头。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&amp;gt;&lt;/code&gt;：匹配单词的结尾。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;注意事项-1&#34;&gt;注意事项
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sed&lt;/code&gt; 默认不会修改原始文件，而是将处理结果输出到标准输出。 使用 &lt;code&gt;-i&lt;/code&gt; 选项可以修改原始文件。&lt;/li&gt;
&lt;li&gt;正则表达式是 &lt;code&gt;sed&lt;/code&gt; 的重要组成部分，需要熟练掌握。&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;-i&lt;/code&gt; 选项时要小心，最好先备份文件。&lt;/li&gt;
&lt;li&gt;不同版本的 &lt;code&gt;sed&lt;/code&gt; 在正则表达式的支持上可能有所差异。 GNU sed 提供了更强大的正则表达式功能。&lt;/li&gt;
&lt;li&gt;使用 Shell 变量：如果想在&lt;code&gt;sed&lt;/code&gt;命令中使用 Shell 变量，要使用双引号&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;，这样 Shell 变量会被展开。 如果使用单引号，则变量不会被展开，而是会被当做普通字符串。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;awk&#34;&gt;awk
&lt;/h2&gt;&lt;p&gt;awk 是一种文本处理工具，主要用于从文本文件中提取数据并进行格式化输出。 它是一种编程语言，允许你编写脚本来处理文本数据。 &lt;code&gt;awk&lt;/code&gt; 逐行读取输入文件，将每一行分割成字段，然后根据你定义的规则对这些字段进行处理。
好的，以下是 awk 的基本语法和常用特性：&lt;/p&gt;
&lt;h3 id=&#34;基本结构-2&#34;&gt;基本结构
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;awk&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;pattern { action }&amp;#39;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;awk&lt;/code&gt;&lt;/strong&gt;: 调用 awk 命令。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;&#39;pattern { action }&#39;&lt;/code&gt;&lt;/strong&gt;: 这是 awk 的程序，用单引号括起来。
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;pattern&lt;/code&gt;&lt;/strong&gt;: 一个条件表达式（可选）。 如果省略，则对每一行都执行 &lt;code&gt;action&lt;/code&gt;。 &lt;code&gt;pattern&lt;/code&gt; 可以是：
&lt;ul&gt;
&lt;li&gt;正则表达式： &lt;code&gt;/regex/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;比较表达式： &lt;code&gt;NR == 2&lt;/code&gt;, &lt;code&gt;$1 &amp;gt; 10&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;范围模式： &lt;code&gt;/start/, /end/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;组合模式： &lt;code&gt;pattern1 &amp;amp;&amp;amp; pattern2&lt;/code&gt;, &lt;code&gt;pattern1 || pattern2&lt;/code&gt;, &lt;code&gt;!pattern&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;{ action }&lt;/code&gt;&lt;/strong&gt;: 要执行的动作。 &lt;code&gt;action&lt;/code&gt; 可以包含一个或多个语句，用分号分隔。 如果省略，则默认动作为 &lt;code&gt;print $0&lt;/code&gt; (打印整行)。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;file(s)&lt;/code&gt;&lt;/strong&gt;: 要处理的一个或多个文件名（可选）。 如果省略，则 awk 从标准输入读取数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;动作-actions&#34;&gt;动作 (Actions)
&lt;/h3&gt;&lt;p&gt;一些常用的 actions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;print&lt;/code&gt;&lt;/strong&gt;: 打印。
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;print $0&lt;/code&gt;: 打印整行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;print $1&lt;/code&gt;: 打印第一个字段。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;print $1, $2&lt;/code&gt;: 打印第一个和第二个字段，用 OFS 分隔 (默认空格)。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;print &amp;quot;Hello&amp;quot;, $1&lt;/code&gt;: 打印字符串 &amp;ldquo;Hello&amp;rdquo; 和第一个字段，用 OFS 分隔。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;printf&lt;/code&gt;&lt;/strong&gt;: 格式化打印，类似于 C 语言的 &lt;code&gt;printf&lt;/code&gt;。
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;printf &amp;quot;%s %d\n&amp;quot;, $1, $2&lt;/code&gt;: 打印第一个字段（字符串）和第二个字段（整数），并换行。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;赋值&lt;/strong&gt;: 给变量赋值。
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;count = count + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;name = $1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;控制流语句&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;if (condition) { statements } else { statements }&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;for (i = 1; i &amp;lt;= NF; i++) { statements }&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;while (condition) { statements }&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;do { statements } while (condition)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;break&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;continue&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;next&lt;/code&gt;&lt;/strong&gt;: 跳过当前行，处理下一行。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;delete array[index]&lt;/code&gt;&lt;/strong&gt;: 删除数组元素。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;字段和记录&#34;&gt;字段和记录
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;字段&lt;/strong&gt;: 每一行被分割成多个字段，默认分隔符是空格或制表符。
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$1&lt;/code&gt;: 第一个字段。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$2&lt;/code&gt;: 第二个字段。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$NF&lt;/code&gt;: 最后一个字段 (&lt;code&gt;NF&lt;/code&gt; 是字段数)。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$0&lt;/code&gt;: 整行记录。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;记录&lt;/strong&gt;: 每一行被称为一个记录。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FS (Field Separator)&lt;/strong&gt;: 字段分隔符，默认是空格或制表符。 可以用 &lt;code&gt;-F&lt;/code&gt; 选项或在 &lt;code&gt;BEGIN&lt;/code&gt; 块中设置。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RS (Record Separator)&lt;/strong&gt;: 记录分隔符，默认是换行符。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OFS (Output Field Separator)&lt;/strong&gt;: 输出字段分隔符，默认是空格。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ORS (Output Record Separator)&lt;/strong&gt;: 输出记录分隔符，默认是换行符。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NF (Number of Fields)&lt;/strong&gt;: 当前记录的字段数。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NR (Number of Records)&lt;/strong&gt;: 当前记录的行号 (从 1 开始)。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;模式-patterns&#34;&gt;模式 (Patterns)
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;正则表达式&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/pattern/&lt;/code&gt;: 匹配包含 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$1 ~ /pattern/&lt;/code&gt;: 匹配第一个字段包含 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$1 !~ /pattern/&lt;/code&gt;: 匹配第一个字段不包含 &lt;code&gt;pattern&lt;/code&gt; 的行。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;比较表达式&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NR == 2&lt;/code&gt;: 匹配第二行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$1 &amp;gt; 10&lt;/code&gt;: 匹配第一个字段大于 10 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$2 == &amp;quot;abc&amp;quot;&lt;/code&gt;: 匹配第二个字段等于 &amp;ldquo;abc&amp;rdquo; 的行。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;范围模式&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/start/, /end/&lt;/code&gt;: 匹配从包含 &lt;code&gt;start&lt;/code&gt; 的行到包含 &lt;code&gt;end&lt;/code&gt; 的行（包括这两行）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;组合模式&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$1 &amp;gt; 10 &amp;amp;&amp;amp; $2 &amp;lt; 20&lt;/code&gt;: 匹配第一个字段大于 10 并且第二个字段小于 20 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$1 == &amp;quot;a&amp;quot; || $2 == &amp;quot;b&amp;quot;&lt;/code&gt;: 匹配第一个字段等于 &amp;ldquo;a&amp;rdquo; 或者第二个字段等于 &amp;ldquo;b&amp;rdquo; 的行。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!($1 == &amp;quot;c&amp;quot;)&lt;/code&gt;: 匹配第一个字段不等于 &amp;ldquo;c&amp;rdquo; 的行。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;BEGIN&lt;/code&gt; 和 &lt;code&gt;END&lt;/code&gt; 块&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BEGIN { actions }&lt;/code&gt;: 在处理任何输入之前执行 &lt;code&gt;actions&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;END { actions }&lt;/code&gt;: 在处理完所有输入之后执行 &lt;code&gt;actions&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;变量&#34;&gt;变量
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;内置变量&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;FS&lt;/code&gt;, &lt;code&gt;RS&lt;/code&gt;, &lt;code&gt;OFS&lt;/code&gt;, &lt;code&gt;ORS&lt;/code&gt;, &lt;code&gt;NF&lt;/code&gt;, &lt;code&gt;NR&lt;/code&gt; (前面已介绍)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FILENAME&lt;/code&gt;: 当前文件名。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FNR&lt;/code&gt;: 当前文件中的行号。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ARGC&lt;/code&gt;: 命令行参数的数量。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ARGV&lt;/code&gt;: 命令行参数数组。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;用户自定义变量&lt;/strong&gt;: 变量名以字母开头，可以包含字母、数字和下划线。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;数组&#34;&gt;数组
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array[index] = value&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;可以用字符串作为数组索引 (关联数组)。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;for (index in array) { ... }&lt;/code&gt;: 遍历数组。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;delete array[index]&lt;/code&gt;: 删除数组元素。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;函数&#34;&gt;函数
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;内置函数&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;字符串函数&lt;/strong&gt;: &lt;code&gt;length()&lt;/code&gt;, &lt;code&gt;substr()&lt;/code&gt;, &lt;code&gt;index()&lt;/code&gt;, &lt;code&gt;split()&lt;/code&gt;, &lt;code&gt;tolower()&lt;/code&gt;, &lt;code&gt;toupper()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数学函数&lt;/strong&gt;: &lt;code&gt;sqrt()&lt;/code&gt;, &lt;code&gt;sin()&lt;/code&gt;, &lt;code&gt;cos()&lt;/code&gt;, &lt;code&gt;rand()&lt;/code&gt;, &lt;code&gt;srand()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;时间函数&lt;/strong&gt;: &lt;code&gt;systime()&lt;/code&gt;, &lt;code&gt;strftime()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;用户自定义函数&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;function_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;parameter1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;parameter2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;statements&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;value&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# 可选&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;示例-2&#34;&gt;示例
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印每一行的第一个字段&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印第二行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;NR == 2&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印所有包含 &amp;ldquo;error&amp;rdquo; 的行&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;/error/&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;打印第一个字段大于 10 的行的第二个字段&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$1 &amp;gt; 10 {print $2}&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;统计文件中所有行的字段总数&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{sum += NF} END {print sum}&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用逗号作为字段分隔符，并打印每行的第一个和第三个字段&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk -F&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1, $3}&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在处理文件之前设置字段分隔符，并在处理完文件后打印总行数&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN {FS = &amp;#34;,&amp;#34;} {print $1} END {print &amp;#34;Total lines:&amp;#34;, NR}&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将所有行的第一个字段转换为大写&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{ $1 = toupper($1); print $0 }&amp;#39;&lt;/span&gt; file.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;更详细的说明&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以参考 GNU Awk 用户手册：&lt;a class=&#34;link&#34; href=&#34;https://www.gnu.org/software/gawk/manual/gawk.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.gnu.org/software/gawk/manual/gawk.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;很多在线教程和示例，搜索 &amp;ldquo;awk tutorial&amp;rdquo; 就能找到。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
